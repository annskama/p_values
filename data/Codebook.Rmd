---
output:
  word_document: default
  html_document: default
---

# P-value in Psychology. Codebook

#### Distribution of p-values reported in eight major psychology journals in 1985-2013

The original file with the data was imported from [here](https://osf.io/gdr4q).

The procedure of data extraction is described by [Nuijten et al. (2016)](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5101263/), including the usage of the automated statcheck procedure: [Extract Statistics from Articles and Recompute P-Values](https://CRAN.R-project.org/package=statcheck).

Further analysis is conducted by [Hartgerin et al. (2016)](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4830257/)

```{r data_download, message=TRUE, warning=TRUE, include=FALSE, paged.print=FALSE}
# get the dataset from github
  link <- "https://raw.githubusercontent.com/annskama/p_values/main/data/150211FullFile_AllStatcheckData_Automatic1Tail.csv"
  my_data <- read.csv(link, sep = ";")

```

## 

The original dataset contains 19 variables:

```{r echo=FALSE}
head(my_data)
```

Out of them only 5 variables are used in the project [**new names used in the project are given in bold**]:

-   N [**n**]- order number of a record

-   Reported_Comparison [**comparison**] - the way how p-value was reported ("=" means as an exact number, "\>" or "\<" means a range above or below Reported_P\_Value)

-   Reported_P\_Value [**p_report**] - p-value reported (or a threshold for it)

-   Computed [**p_compute**] - p-value recalculated based on the reported statistics value and degrees of freedom (recalculation is performed by [Nuijten et al. (2016)](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5101263/) using the automated procedure [statcheck](https://CRAN.R-project.org/package=statcheck)

-   Years_y\_ [**year**] - a year of a publication

*Other variables not used in the project:*

-   Source - order number of a paper, from which data was extracted

-   Statistic, Value, df1, df2 - type and value of statistics reported, relevant degrees of freedom

-   Test_Comparison - the way how statistics value was reported ("=" means as an exact number, "\>" or "\<" means a range above or below Value)

-   Raw - raw data extracted from a paper

-   Error, DecisionError, OneTail, OneTailedInTxt and CopyPaste - tests generated by [statcheck](https://CRAN.R-project.org/package=statcheck){style="font-size: 11pt;"} but not used in this project

-   APAfactor and journals_jour\_ - the relevant journal's characteristics

```{r data_cleaning, include=FALSE}
 library(tidyverse)
  # remove not used in this project variables
  my_data <- my_data[, -c(2:7,11:18)]
  # rename column names and change variables' class
  colnames(my_data) <- c("n", "comparison", "p_report", "p_compute", "year")
  my_data$p_report <- as.numeric(gsub(",",".", my_data$p_report))
  my_data$p_compute <- as.numeric(gsub(",",".", my_data$p_compute))
  my_data$year <- parse_number(my_data$year)

  # clean the dataset from missing values in variables used in analysis
  my_data <- my_data[!is.na(my_data$p_report) & !is.na(my_data$p_compute) &
                       !is.na(my_data$comparison) &!is.na(my_data$year),]


```

After data cleaning and formatting the dataset for the project contains `r {nrow(my_data)}` rows and looks as follows:

```{r echo=FALSE}
  head(my_data)
```
